{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1a978aed_6b0434b8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2022-02-28T12:26:01Z",
      "side": 1,
      "message": "check dallas ocp-4.8-vanilla example-cnf",
      "revId": "cc1d67a3f8b0584a28f76b740af400312a4bf62f",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "926e3562_05c8ef99",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 821
      },
      "writtenOn": "2022-02-28T14:03:52Z",
      "side": 1,
      "message": "Thanks Nacho for your review, it is really appreciated ðŸ˜Š",
      "revId": "cc1d67a3f8b0584a28f76b740af400312a4bf62f",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05023713_2d631f57",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2022-02-28T14:50:01Z",
      "side": 1,
      "message": "Hi @Pierre, I realized that CR https://softwarefactory-project.io/r/c/dci-openshift-app-agent/+/23996 makes partner_creds variable to be mandatory.\n\nIt was designed to make things working for private registries, both in connected and disconnected env, and I didn\u0027t really assessed the consequences. ",
      "revId": "cc1d67a3f8b0584a28f76b740af400312a4bf62f",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fc4e76b3_3b5d7ca6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2022-03-01T09:54:23Z",
      "side": 1,
      "message": "check dallas ocp-4.8-vanilla example-cnf",
      "revId": "cc1d67a3f8b0584a28f76b740af400312a4bf62f",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33b4ee67_d63dd465",
        "filename": "roles/preflight/tasks/test_preflight_check_container.yml",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-02-28T13:55:19Z",
      "side": 1,
      "message": "I\u0027m pretty sure there is no actual risk here but want to double check.\nThe preflight_podman_auth variable is defined in the prepare_json_authentication tasks file which is only run if the variable partner_creds is defined and not empty, as included in the pre-run file.\nIs the variable partner_creds mandatory so we know preflight_podman_auth will always be defined or are we risking a variable undefined error here?",
      "revId": "cc1d67a3f8b0584a28f76b740af400312a4bf62f",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0fc5655_f875884e",
        "filename": "roles/preflight/tasks/test_preflight_check_container.yml",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 821
      },
      "writtenOn": "2022-02-28T14:03:52Z",
      "side": 1,
      "message": "The partner_creds option is not mandatory. If the operator is stored in public registry, this variable is not needed.\n\nYou right if partner_creds is not set, preflight_podman_auth will empty.\nThe podman command works with or without the variable.\n\nThe pre-rune do the mirroring, so we assume it needs credential.",
      "parentUuid": "33b4ee67_d63dd465",
      "revId": "cc1d67a3f8b0584a28f76b740af400312a4bf62f",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef8b5d2a_30a0c43c",
        "filename": "roles/preflight/tasks/test_preflight_check_container.yml",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 938
      },
      "writtenOn": "2022-02-28T14:50:01Z",
      "side": 1,
      "message": "@Pierre, actually here is a trick. In the disconnected environment, for the tools like opm or scopeo we need to provide credentials both for the private registry and for the local registry, in one authfile. For that, I chose partner_creds, CR https://softwarefactory-project.io/r/c/dci-openshift-app-agent/+/23996, and all preflight role now depends on it. \n\nSo it seems like partner_creds is not optional anymore.\n\nI\u0027m not sure if it was a good design decision though.",
      "parentUuid": "d0fc5655_f875884e",
      "revId": "cc1d67a3f8b0584a28f76b740af400312a4bf62f",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5a2e930_e1c30f1c",
        "filename": "roles/preflight/tasks/test_preflight_check_container.yml",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 821
      },
      "writtenOn": "2022-02-28T15:30:25Z",
      "side": 1,
      "message": "Yes, in disconnected we need partner_creds to mirror.\n\nThis patch is more for connected environment with public registry :)",
      "parentUuid": "ef8b5d2a_30a0c43c",
      "revId": "cc1d67a3f8b0584a28f76b740af400312a4bf62f",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58e7e9d0_86b6518c",
        "filename": "roles/preflight/tasks/tests_preflight_check_operator.yml",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 789
      },
      "writtenOn": "2022-02-28T13:55:19Z",
      "side": 1,
      "message": "Same concern in this line.",
      "revId": "cc1d67a3f8b0584a28f76b740af400312a4bf62f",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}