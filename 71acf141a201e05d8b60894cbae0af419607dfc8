{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5d511488_486fe4d1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2022-10-03T11:44:39Z",
      "side": 1,
      "message": "I\u0027ve been testing this morning with tnf_test_example in dallas, including the change in service-configs repo to have the previous version of partner_config.json file, and I can still see that there are issues with tnf_test_example. It is not related to this change at all, but it is related to the pullsecret\u0027s story, and I believe we should finally decide if the variable to be used as env variable in fbc-catalog role is pullsecret_tmp_file or partner_creds, to do the appropriate changes in other repos such as service-configs and probably the pipelines.\n\nAlso, as it was confirmed that preflight is working fine on dallas and bos2, can we now test tnf_test_example on BOS2 in the following way?\n\n```\nTest-App-Hints: tnf_test_example\nTest-Args-Hints: -e dci_openshift_app_ns\u003d\"test-cnf\" -e do_cnf_cert\u003dtrue -e {\"tnf_config\":[{\"namespace\":\"test-cnf\",\"targetpodlabels\":[\"environment\u003dtest\"],\"target_crds\":[\"crdexamples.test-network-function.com\"],\"operators_regexp\":\"mongodb-enterprise\",\"exclude_connectivity_regexp\":\"\"}]} -e sync_cnf_cert_and_preflight\u003dtrue -e {\"preflight_operators_to_certify\":[]} -e partner_creds\u003d/opt/cache/tnf_sample.json -e pyxis_apikey_path\u003d/opt/cache/pyxis-apikey.txt\n```\n\nAlso, please find some comments below.",
      "revId": "71acf141a201e05d8b60894cbae0af419607dfc8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77b92660_140d3f56",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2022-10-03T11:52:51Z",
      "side": 1,
      "message": "recheck",
      "revId": "71acf141a201e05d8b60894cbae0af419607dfc8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cdb9faba_2fb5cd66",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2022-10-03T11:53:29Z",
      "side": 1,
      "message": "(rechecking because I\u0027ve updated the pullsecrets file in BOS2 according to what we should have there, preflight should pass)",
      "revId": "71acf141a201e05d8b60894cbae0af419607dfc8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d293be64_b337eeb4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2022-10-03T15:40:47Z",
      "side": 1,
      "message": "Beto, forget this message, I\u0027ve been discussing about this with Tony and Tatiana and we\u0027ve agreed to use the same partner_config.json file for preflight and tnf-test-cnf pipelines, also maintaining the usage of partner_creds when calling to fbc-catalog instead of changing back to pullsecret_tmp_file, so nothing to worry about this.\n\nBut it\u0027s true that, if you can run a test on BOS2 deploying tnf_test_example, it would be great, to confirm it\u0027s working fine (it should). Preflight has already been verified and tnf-test-cnf has been tested in dallas, but we need the BOS2 test too.\n\nUpdating the hints to be used to really test it, these are the good ones (using the correct partner_creds var):\n\n```\nTest-App-Hints: tnf_test_example\nTest-Args-Hints: -e dci_openshift_app_ns\u003d\"test-cnf\" -e do_cnf_cert\u003dtrue -e {\"tnf_config\":[{\"namespace\":\"test-cnf\",\"targetpodlabels\":[\"environment\u003dtest\"],\"target_crds\":[\"crdexamples.test-network-function.com\"],\"operators_regexp\":\"mongodb-enterprise\",\"exclude_connectivity_regexp\":\"\"}]} -e sync_cnf_cert_and_preflight\u003dtrue -e {\"preflight_operators_to_certify\":[]} -e partner_creds\u003d/opt/cache/partner_config.json -e pyxis_apikey_path\u003d/opt/cache/pyxis-apikey.txt\n```",
      "parentUuid": "5d511488_486fe4d1",
      "revId": "71acf141a201e05d8b60894cbae0af419607dfc8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2acd514_41efbce3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2022-10-03T15:40:47Z",
      "side": 1,
      "message": "Updating my comments after discussing the pullsecret stuff with Tony and Tatiana. From my side, the change is fine, only needing to check tnf_test_example in BOS2. Also, one keeping opened one minor suggestion.",
      "revId": "71acf141a201e05d8b60894cbae0af419607dfc8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4bcd2d21_fd9d8ac1",
        "filename": "roles/preflight/tasks/prepare_operator_metadata.yml",
        "patchSetId": 16
      },
      "lineNbr": 5,
      "author": {
        "id": 800
      },
      "writtenOn": "2022-10-03T11:44:39Z",
      "side": 1,
      "message": "I think we can avoid this change and continue using `{{ preflight_docker_config_env | default(\u0027\u0027) }}`, because I\u0027ve seen this variable is used in other parts of the preflight and create-pr code, and effectively its value is the same than the env variable.\nIf changing this, then I guess we\u0027d need to change the other roles too, to use DOCKER_CONFIG env variable instead.\nBoth options are fine for me.",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 5,
        "endChar": 0
      },
      "revId": "71acf141a201e05d8b60894cbae0af419607dfc8",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}