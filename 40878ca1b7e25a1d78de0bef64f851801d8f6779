{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7aea253f_c804ace5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-06-22T13:11:17Z",
      "side": 1,
      "message": "Hi team, change is ready for review, and I need to merge it before https://github.com/test-network-function/cnf-certification-test/pull/1200, else daily jobs can fail in HEAD branch.\n\nThese are the tests that have been run:\n\n- https://www.distributed-ci.io/jobs/96f9425d-3e0a-402d-8f3b-ea60b0997315/files - v4.3.0 - all logs are retrieved including tnf-results-web-page.tar.gz\t\n- https://www.distributed-ci.io/jobs/e287cc6f-b6c4-4312-b9e3-bbecffdd7cf0/files - HEAD - all logs are retrieved including new tar.gz report\n- https://www.distributed-ci.io/jobs/06ddef6c-3ea3-4005-a94a-2eeb856906f4/jobStates?sort\u003ddate\u0026task\u003d8a4c476c-5ae3-44c5-9411-5a6285a7c0a2 - forcing a premature failure to see that tnf teardown is executed",
      "revId": "40878ca1b7e25a1d78de0bef64f851801d8f6779",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "927d42ce_d1a4f746",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-06-23T07:28:28Z",
      "side": 1,
      "message": "Adding Nacho who is on CI Duty this week. I need this change to be merged today since daily jobs are starting to fail and tnf checks depend on this fix too",
      "revId": "40878ca1b7e25a1d78de0bef64f851801d8f6779",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "00557802_d43c534c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2023-06-23T10:13:27Z",
      "side": 1,
      "message": "\u003e we need to firstly check if claim.json file is present or not, that\u0027s mandatory to then submit other files that are generated\n\nCould you simply upload all files generated in a particular folder, as we do in preflight?",
      "revId": "40878ca1b7e25a1d78de0bef64f851801d8f6779",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d628b7e9_a48ade91",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-06-23T10:19:12Z",
      "side": 1,
      "message": "mmm, don\u0027t really know, because there are more files in the place where we check the files we\u0027re currently uploading, so in the end we\u0027ll have to check if they exist and copy to a specific place anyway",
      "parentUuid": "00557802_d43c534c",
      "revId": "40878ca1b7e25a1d78de0bef64f851801d8f6779",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33abc114_6cfa43de",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2023-06-23T10:28:19Z",
      "side": 1,
      "message": "What we could do, is to simply copy all the files from a particular folder (or folders) to the dci log folder: https://github.com/redhat-cip/dci-openshift-app-agent/blob/master/roles/preflight/tasks/tests_preflight_check_operator.yml#L107-L114 This way, there is no need to pin or define the file names. You could also exclude some files using regex in the with_fileglob.",
      "parentUuid": "d628b7e9_a48ade91",
      "revId": "40878ca1b7e25a1d78de0bef64f851801d8f6779",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8e730c3_d61fb907",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-06-23T10:34:47Z",
      "side": 1,
      "message": "But, in the same folder where the log files are saved in tnf folder, we have the tnf code. They don\u0027t create a separate folder for logs. So, with this, I\u0027m fearing we would overload our DCI log folder with files that are not needed",
      "parentUuid": "33abc114_6cfa43de",
      "revId": "40878ca1b7e25a1d78de0bef64f851801d8f6779",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6e1edb6d_11d59cdd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-06-23T10:56:38Z",
      "side": 1,
      "message": "I finally managed to include this method, but respecting the workflow we have to check if claim.json file is present, and also taking into account that, depending on the tnf version (we have to support old versions for teams that are working with partners), there are files that will be there or not. I think it\u0027s better now.",
      "parentUuid": "c8e730c3_d61fb907",
      "revId": "40878ca1b7e25a1d78de0bef64f851801d8f6779",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7eacbed_3f0905d6",
        "filename": "roles/cnf-cert/tasks/logging.yml",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 938
      },
      "writtenOn": "2023-06-23T09:25:41Z",
      "side": 1,
      "message": "I believe we could do it much shorter in a loop, instead of checking file-by-file, the same way it is done in the preflight role: https://github.com/redhat-cip/dci-openshift-app-agent/blob/master/roles/preflight/tasks/tests_preflight_check_operator.yml#L107-L114",
      "revId": "40878ca1b7e25a1d78de0bef64f851801d8f6779",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c140baf8_6763ec2a",
        "filename": "roles/cnf-cert/tasks/logging.yml",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-06-23T10:01:36Z",
      "side": 1,
      "message": "I can add a loop in some places but not for all files, because we need to firstly check if claim.json file is present or not, that\u0027s mandatory to then submit other files that are generated. But for example, tnf_config and dci-tnf-execution files can be submitted in any case.\nLet me try to refactor that, but as I said, it will not be possible to add everything in a loop because of the claim.json",
      "parentUuid": "c7eacbed_3f0905d6",
      "revId": "40878ca1b7e25a1d78de0bef64f851801d8f6779",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5c74a5c9_40765b82",
        "filename": "roles/cnf-cert/tasks/logging.yml",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-06-23T10:56:38Z",
      "side": 1,
      "message": "Adding some loops in the cases where I found it was feasible to do it.",
      "parentUuid": "c140baf8_6763ec2a",
      "revId": "40878ca1b7e25a1d78de0bef64f851801d8f6779",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}