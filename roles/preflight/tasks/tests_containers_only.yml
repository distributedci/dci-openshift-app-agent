---
- name: "Run preflight check container on operator image for {{ operator.name }} with preflight binary"
  # introducing operator variable to reuse the functionality
  # for e2e certification when operator is defined
  vars:
    current_operator_image: "{{ item.container_image }}"
    operator:
      name: "{{ current_operator_image.split('/')[-1].split(':')[0].split('@')[0] }}"
      version: "{{ current_operator_image.split(':')[-1] }}"
      pyxis_container_identifier: "{% if item.pyxis_container_identifier is defined %}{{ item.pyxis_container_identifier }}{% endif %}"
  include_tasks: test_preflight_check_container_binary.yml
  loop: "{{ preflight_containers_to_certify }}"
...