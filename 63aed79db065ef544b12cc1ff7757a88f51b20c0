{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "61034f14_9d779f3c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-01-05T09:24:49Z",
      "side": 1,
      "message": "Can we reproduce the case of solutions team here to confirm that it\u0027s working?\nAlso, can we also test tnf-test-cnf to validate the change is working there too?",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5690e2f7_69da2c3b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2023-01-05T09:41:48Z",
      "side": 1,
      "message": "\u003e Can we reproduce the case of solutions team here to confirm that it\u0027s working?\n\nI tested that locally: https://gist.github.com/tkrishtop/f3779762652e08514807bb671bca2775\nCould we test in Dallas somehow? \n\n\u003e Also, can we also test tnf-test-cnf to validate the change is working there too?\n\nStarted the job: check_workload 27107 tnf-test-cnf-green",
      "parentUuid": "61034f14_9d779f3c",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9cf3ae9f_9cc16ebb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2023-01-05T09:41:48Z",
      "side": 1,
      "message": "Hello Ramon and Manuel, the change is ready for review.\n\nThe change is tested:\n- On a single test suite in Dallas:\n  -- preflight-green: https://www.distributed-ci.io/jobs/4d857472-39d6-4e75-a2ea-a17c57c38b92/jobStates?sort\u003ddate\u0026task\u003dd2d3df4e-4ae8-4a95-aa48-eccc09efca78\n  -- preflight: https://www.distributed-ci.io/jobs/352e9bf5-affa-4bc0-b9bf-9ba0f769fc7d/jobStates?sort\u003ddate\u0026task\u003d8c6286eb-89f5-45d0-83f9-99f677a4f50b\n\n- On multiple test suites locally: https://gist.github.com/tkrishtop/f3779762652e08514807bb671bca2775  \n\n",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7e15c9f5_71522bb2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2023-01-05T12:00:16Z",
      "side": 1,
      "message": "Hi Ramon, the job tnf-test-cnf-green produced an unrelated error \"Failed at olm-operator : Issues during operator installation\", rescheduled it. Not sure if I\u0027m testing it properly with `jumphost ~]$ check_workload 27107 tnf-test-cnf-green`. Do you mind having a look?",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e95561e_bae0a649",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-01-05T12:47:51Z",
      "side": 1,
      "message": "Let me run this in a diff cluster, don\u0027t know why but today I\u0027m also hitting several issues in cluster10 and I had to move to another cluster to do some tnf tests",
      "parentUuid": "7e15c9f5_71522bb2",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b1b53244_b763bfe7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2023-01-05T12:51:49Z",
      "side": 1,
      "message": "Hi Ramon, you requested to run tnf-test-cnf-green, but I don\u0027t think that would add any value in this case. We\u0027ve already tested the one-testsuite situation on preflight and preflight-green jobs.\n\ntnf-test-cnf-green has failed three times in a row with errors unrelated to verify-tests: \"Failed at olm-operator: Issues during operator installation\" and \"Failed at Wait until volume is available.\" It\u0027s probably just a matter of repairing the cluster10 after some storage-related tests, I\u0027m reinstalling it right now, but it has nothing related to the verify-tests role. \n\nWhat might be helpful is running something in Dallas with multiple test suites in one JUnit. Do we have something like that? I\u0027ve already tested multiple test suites locally, and the only missing part is an e2e test: https://gist.github.com/tkrishtop/f3779762652e08514807bb671bca2775\n\nThanks for your help with this.\n\n",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5f31cd44_29e7fe8a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-01-05T13:16:53Z",
      "side": 1,
      "message": "hmm, I think the change needs to be reviewed, because as I was fearing, the check is not working with tnf-test-cnf pipeline (it\u0027s the same than tnf-test-cnf-green pipeline in the end):\n\n\u003e Patch Set 5:\n\u003e \n\u003e - FAILURE https://www.distributed-ci.io/jobs/4184d68d-0c41-4f57-8761-af2d3967deb2/jobStates\n\u003e  from https://softwarefactory-project.io/r/#/c/27107/\n\nthis is the tests_to_verify used in this pipeline:\n\n```\n    tests_to_verify:\n      - filename: \"cnf-certification-tests_junit.xml\"\n        expected_results:\n          - testcase: \"^((?!platform-alteration-tainted-node-kernel|affiliated-certification-operator-is-certified|\\\n              affiliated-certification-container-is-certified-digest|networking-dual-stack-service).)*$\"\n            passed: True\n```\n\nso, the job expects that all tnf tests pass excepting these four ones that may fail, which is the case of this job, however verify-tests is marking a failure (and it shouldn\u0027t)",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "22c1bd52_155a4b28",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-01-05T13:16:53Z",
      "side": 1,
      "message": "I agree with the testing of multiple test suites in one JUnit, but maybe it\u0027s fine with the local test you did. Here, we can do two things: 1) to test with dci-check-change a job that generates this kind of junit file, or 2) merge this change when it\u0027s ready and then check if it\u0027s working, then correcting issues if we find more, but always making sure that we\u0027re not breaking what we\u0027re doing now",
      "parentUuid": "b1b53244_b763bfe7",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "07789cce_8121fc48",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2023-01-05T13:19:03Z",
      "side": 1,
      "message": "The last job made it till verify-tests and correctly verified the test results: https://www.distributed-ci.io/jobs/4184d68d-0c41-4f57-8761-af2d3967deb2/jobStates?sort\u003ddate\u0026task\u003d24b030df-7c2a-4ccf-84c9-8c415cba97e2 \n\nactual results:\n{\"passed\": false, \"testcase\": \"[It] networking networking-dual-stack-service [common, networking, networking-dual-stack-service]\"}\n\nverification:\n\"The following expectations failed: [{\u0027testcase\u0027: \u0027^((?!platform-alteration-tainted-node-kernel|affiliated-certification-operator-is-certified|affiliated-certification-container-is-certified-digest|networking-dual-stack-service).)*$\u0027, \u0027passed\u0027: True}]\"}",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c24c3d71_65d70ffc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2023-01-05T13:26:58Z",
      "side": 1,
      "message": "Nope! The validation worked fine, here you have at least two failing testcases that are not as expected:\n\n{\"passed\": false, \"testcase\": \"[It] access-control access-control-sys-ptrace-capability [common, access-control, access-control-sys-ptrace-capability]\"}\n\n{\"passed\": false, \"testcase\": \"[It] chaostesting chaostesting-pod-delete [common, chaostesting, chaostesting-pod-delete]\"}\n\nAlthough, it\u0027s difficult to debug with the current error message, let me trim it a bit.",
      "parentUuid": "5f31cd44_29e7fe8a",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7bde3461_7e8986bf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-01-05T13:53:04Z",
      "side": 1,
      "message": "but these two tests are skipped, not failed, as well as other 5 tnf tests that are also skipped and are not hitting the issue. So I\u0027m not sure if the validation is working fine, because currently, all skipped test are handled as passed, and now it\u0027s handling two skipped tests as failed but the rest skipped tests as passed",
      "parentUuid": "c24c3d71_65d70ffc",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f027e134_876a8fce",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 938
      },
      "writtenOn": "2023-01-05T14:19:38Z",
      "side": 1,
      "message": "Okay, I see. We\u0027re in a situation where the regex matches the test case and the test case is skipped. For me, the failure in this situation is expected. You should narrow your regex to prevent this from happening.",
      "parentUuid": "7bde3461_7e8986bf",
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5dc7cea_dc56a788",
        "filename": "roles/verify-tests/tasks/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 3,
      "author": {
        "id": 800
      },
      "writtenOn": "2023-01-05T09:24:49Z",
      "side": 1,
      "message": "is there any way of avoiding using pip module here? I\u0027ve seen that `dnf install python3-junitparser` doesn\u0027t work, so it seems that package module would fail, but I remember there are problems with some partners or teams using pip to install dependencies, so that should not be the proper way of installing software if possible",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 3,
        "endChar": 6
      },
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "819aefad_55299b33",
        "filename": "roles/verify-tests/tasks/main.yml",
        "patchSetId": 5
      },
      "lineNbr": 3,
      "author": {
        "id": 938
      },
      "writtenOn": "2023-01-05T09:41:48Z",
      "side": 1,
      "message": "These problems were due to conflicting dependencies and here we have an isolated package. That should be safe.",
      "parentUuid": "e5dc7cea_dc56a788",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 3,
        "endChar": 6
      },
      "revId": "63aed79db065ef544b12cc1ff7757a88f51b20c0",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}